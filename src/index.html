<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic JS Executor</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="p-8">
  <div class="mb-4">
    <label for="demo-select" class="block text-lg font-bold mb-2">Select Demo Code</label>
    <select id="demo-select" class="w-full p-2 border border-gray-300 rounded mb-4"> </select>
  </div>

  <div class="mb-4">
    <label for="editor" class="block text-lg font-bold mb-2">JS Code (Monaco Editor)</label>
    <textarea id="editor" class="w-full h-64 p-2 border border-gray-300 rounded mb-4">
      import { fetch } from '@tauri-apps/plugin-http';
      
      async function executeUserCode() {
        try {
          const response = await fetch('https://www.baidu.com')
          console.info(response)
        } catch (error) {
          console.error('Error executing user code:', error);
        }
      }

      executeUserCode();
    </textarea>
  </div>

  <button id="execute" class="w-full p-2 bg-blue-500 text-white rounded mb-4">Execute</button>

  <div class="mb-4">
    <label for="output" class="block text-lg font-bold mb-2">Output</label>
    <textarea id="output" class="w-full h-40 p-2 border border-gray-300 rounded" readonly></textarea>
  </div>

  <script type="importmap">
    {
      "imports": {
        "monaco-editor": "./assets/monaco-editor/esm/vs/editor/editor.main.js",
        "monaco-editor/esm/vs/basic-languages/monaco.contribution": "./assets/monaco-editor/esm/vs/basic-languages/monaco.contribution.js",
        "@tauri-apps/api": "./assets/tauri-apps-api/index.js",
        "@tauri-apps/api/": "./assets/tauri-apps-api/",
        "@tauri-apps/api/core": "./assets/tauri-apps-api/core.js",
        "@tauri-apps/plugin-http": "./assets/tauri-apps-plugin-http/index.js",
        "@tauri-apps/plugin-dialog": "./assets/tauri-apps-plugin-dialog/index.js",
        "@tauri-apps/plugin-fs": "./assets/tauri-apps-plugin-fs/index.js",
        "@tauri-apps/plugin-notification": "./assets/tauri-apps-plugin-notification/index.js"
      }
    }
  </script>
  <script type="module" src="./main.js" defer></script>

</body>

</html>